@using SimpleProjectManager.Client.Shared.CurrentJobs;

@page "/CurrentJobs"

@inherits NonAutoRenderingView<CurrentJobsViewModel>

@inject JobsViewModel _model

<PageTitle>Aktuelle Aufträge</PageTitle>

<StateAwaiter State="@ViewModel?.State">
    @if(context == null)
    {
        <GenericLoadingElement Label="Daten werden Abgerufen"/>
    }
    else if (context.Length == 0)
    {
        <MudGrid Justify="Justify.Center">
            <MudItem lg="12">
                <MudText Align="Align.Center" Typo="Typo.h1">Keine Aufträge</MudText>
            </MudItem>
            <MudItem lg="5"/>
            <MudItem lg="2">
                <MudCommandButton StartIcon="@Icons.Filled.NewLabel" Class="align-center" @ref="NewJob">Neuer Auftrag</MudCommandButton>
            </MudItem>
            <MudItem lg="5"/>
        </MudGrid>
    }
    else
    {
        <MudGrid>
            <MudItem lg="3">
                <JobSideBar CurrentJobs="context"/>
            </MudItem>
            <MudItem lg="9">
                <JobDetailDisplay/>
            </MudItem>
        </MudGrid>
    }
    
</StateAwaiter>


