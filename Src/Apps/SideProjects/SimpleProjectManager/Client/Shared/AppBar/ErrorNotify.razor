@using SimpleProjectManager.Client.Shared.Data
@using SimpleProjectManager.Client.Shared.ViewModels
@inherits NonAutoRenderingComponent

@inject GlobalState _errorService
@inject PageNavigation _navigation

<ObservableRenderer Observable="@_errorService.Errors.ErrorCount">
    <ValueRenderer>
        <MudTooltip Text="Aktuelle Kritische Fehler">
            @if (context == 0)
            {
                <MudAlert Severity="Severity.Success">Keine</MudAlert>
            }
            else
            {
                <MudAlert Severity="Severity.Warning" OnClick="@_navigation.Errors">@context</MudAlert>
            }
        </MudTooltip>
    </ValueRenderer>
</ObservableRenderer>