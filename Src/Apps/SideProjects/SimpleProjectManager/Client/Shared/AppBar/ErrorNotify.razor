@using SimpleProjectManager.Client.Shared.Data
@using SimpleProjectManager.Client.Shared.ViewModels
@inherits NonAutoRenderingComponent

@inject GlobalState ErrorService
@inject PageNavigation Navigation

<ObservableRenderer Observable="@ErrorService.Errors.ErrorCount">
    <ValueRenderer>
        <MudTooltip Text="Aktuelle Kritische Fehler">
            @if(context == 0)
            {
                <MudAlert Severity="Severity.Success">Keine Fehler</MudAlert>
            }
            else
            {
                <MudAlert Severity="Severity.Warning" OnClick="@Navigation.Errors">Fehler: @context</MudAlert>
            }
        </MudTooltip>
    </ValueRenderer>
</ObservableRenderer>