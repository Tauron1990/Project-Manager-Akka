@using SimpleProjectManager.Client.ViewModels.LogFiles
@inherits NonAutoRenderingView<SimpleProjectManager.Client.ViewModels.LogFiles.LogFileDisplayViewModel>

@if(ViewModel?.HasFile == true)
{
    <MudDataGrid Groupable="true" Items="ViewModel.Logs" Dense="true" Filterable="true" Virtualize="true">
        <Columns>
            <HierarchyColumn T="LogData"/>
            <PropertyColumn T="LogData" TProperty="String" Property="ld => ld.Date" Title="Zeit"/>
            <PropertyColumn T="LogData" TProperty="String" Property="ld => ld.Level" Title="Schwere"/>
            <PropertyColumn T="LogData" TProperty="String" Property="ld => ld.Message" Title="Nachricht"/>
            <PropertyColumn T="LogData" TProperty="String" Property="ld => ld.EventType" Title="Ereignis Type"/>
        </Columns>
        <ChildRowContent>
                    <MudCard>
                        <MudCardHeader>
                            <CardHeaderContent>
                                <MudText Typo="Typo.h6">Eigenschaften</MudText>
                            </CardHeaderContent>
                        </MudCardHeader>
                        <MudCardContent>
                            @foreach (var prop in context.Item.Propertys)
                            {
                                <MudText>@(prop.Key): @(prop.Value)</MudText>
                            }
                        </MudCardContent>
                    </MudCard>
        </ChildRowContent>
    </MudDataGrid>
}
else
{
    <MudText Align="Align.Center">Keine Daten</MudText>
}