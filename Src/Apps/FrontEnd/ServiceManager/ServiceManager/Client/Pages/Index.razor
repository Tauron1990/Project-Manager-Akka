@page "/"
@using ServiceManager.Shared.ClusterTracking

@inject IClusterNodeTracking _service
@inherits ComputedStateComponent<string[]>

<Title Value="Knoten"/>

    <MudText Typo="Typo.h4" Class="m-1">Aktuelle Knoten:</MudText>

<MudList>
    @foreach (var info in State.ValueOrDefault ?? Array.Empty<string>())
    {
        <MudListItem>
            <ClusterNodeInfoView @key=info NodeInfo="@info"/>
        </MudListItem>
    }
</MudList>

@code
{
    protected override Task<string[]> ComputeState(CancellationToken cancellationToken) 
        => _service.GetUrls();
}

